# Today I Learned (2025-07-27)

이 저장소는 제가 매일 학습한 내용을 기록하고 정리하기 위해 만든 공간입니다. 기술적인 개념, 실습하면서 마주친 문제들, 정리하고 싶은 개념들을 주제별/일자별로 구조화하여 관리하고 있습니다.

---

## 📚 공부한 내용
**[CS] 대용량 처리와 큐의 관계**

- **배치 vs 메시지큐**
  - **배치:** 일정 주기마다 한꺼번에 처리 → 부하 집중, 실시간성 떨어짐, 테이블 스캔 비용 증가.
  - **메시지큐:** 실시간 스트리밍 처리. Producer/Consumer 분리로 트래픽 급증 시 **컨슈머 Auto-Scaling** 가능.

- **메시지큐의 장점**
  - **백프레셔 내장:** 생산자/소비자 속도 차이를 흡수. TCP Congestion Flow와 유사.
  - **실패 대응:** Dead Letter Queue(DLQ), 재시도 처리.
  - **확장성:** 컨슈머 개수 조절로 처리량 선형 확장.
  - **완충 효과:** 급격한 부하에도 서비스 안정성 확보.

- **단점 및 고려사항**
  - 메시지 유실 방지 설정 필요.
  - 중복 처리/순서 보장 로직 필요.
  - 운영 복잡성 증가.

- **적용 예시: 쿠폰 후처리**
  - **배치:** 1분마다 발급 건을 DB 스캔 후 메일/QR 발송 → 순간 부하 집중.
  - **메시지큐:** 발급 이벤트 시 즉시 큐로 전달 → 여러 컨슈머 병렬 처리.

- **적합한 경우**
  - 배치: 정산, 리포트 등 **즉시성 필요 없는 처리**.
  - 메시지큐: **실시간성, 급증 트래픽 대응**이 필요한 후처리(알림 발송, 로그 수집 등).

- **큐의 본질적 역할**
  - 생산자와 소비자 사이 **속도 차이 완충(Buffer)**.
  - 네트워크 TCP Congestion Control처럼 **흐름 제어** 수행.

---

## 💡 주요 개념들
- **배치:** 주기적 일괄 처리 → 부하 집중, 지연 발생.
- **메시지큐:** 실시간, 확장성, 백프레셔, DLQ 등 강력한 후처리 기능 제공.
- **OS 메시지큐:** IPC 기반 프로세스 간 통신에서 기원 → Kafka, RabbitMQ 등으로 확장.
- **큐:** 부하를 흡수하고 속도 차이를 조절하는 **완충 장치**.

## 🔗 참고
- Kafka vs RabbitMQ 아키텍처 개념 정리
- TCP Congestion Control & Backpressure 설계 유사성
- 실습: Redis → 메시지큐 기반 쿠폰 후처리 전환 설계


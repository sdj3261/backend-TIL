
# Today I Learned  
# 2025-06-05  

## ğŸ“š ê³µë¶€í•œ ë‚´ìš©  
- Javaì˜ ìŠ¤ë ˆë“œ ê°œë… ë° Thread í´ë˜ìŠ¤ ì‚¬ìš©ë²•  
- Runnable vs Thread ìƒì† ì°¨ì´  
- Thread ìƒíƒœì™€ ë™ê¸°í™” ê°œë…  
- ìŠ¤ë ˆë“œí’€ê³¼ ì„±ëŠ¥ ì´ìŠˆ, ë°ë“œë½ íšŒí”¼  

## ğŸ’¡ ì£¼ìš” ê°œë…ë“¤  

### ğŸ§µ ìŠ¤ë ˆë“œë€?  
- Javaì—ì„œ `Thread`ëŠ” ë™ì‹œì— ì—¬ëŸ¬ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥  
- JVMì€ ê¸°ë³¸ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ë©”ì¸ ìŠ¤ë ˆë“œë¡œ ì‹¤í–‰ë˜ë©°, ì¶”ê°€ë¡œ ìƒì„± ê°€ëŠ¥  
- ëŒ€í‘œì ìœ¼ë¡œ UI ì´ë²¤íŠ¸ ì²˜ë¦¬, ì„œë²„ì˜ ìš”ì²­ ì²˜ë¦¬ ë“±ì— ì‚¬ìš©ë¨  

---

### ğŸ§¨ Thread ìƒì„± ë°©ë²•  

#### ë°©ë²• 1: Thread ìƒì†  

```java
class MyThread extends Thread {
    public void run() {
        System.out.println("Thread ì‹¤í–‰ ì¤‘");
    }
}
new MyThread().start();
```

#### ë°©ë²• 2: Runnable êµ¬í˜„  

```java
class MyRunnable implements Runnable {
    public void run() {
        System.out.println("Runnable ì‹¤í–‰ ì¤‘");
    }
}
new Thread(new MyRunnable()).start();
```

- `Runnable` ë°©ì‹ì´ ë” ìœ ì—°í•˜ê³  ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ìƒì† ê°€ëŠ¥

---

### ğŸŒ€ Threadì˜ ìƒëª…ì£¼ê¸° (Thread Lifecycle)  
- **NEW**: ê°ì²´ ìƒì„±  
- **RUNNABLE**: ì‹¤í–‰ ì¤€ë¹„ ì™„ë£Œ  
- **RUNNING**: ì‹¤í–‰ ì¤‘  
- **BLOCKED**: ë½ ê±¸ë¦¼  
- **WAITING / TIMED_WAITING**: ë‹¤ë¥¸ ìŠ¤ë ˆë“œ ë˜ëŠ” ì‹œê°„ ëŒ€ê¸°  
- **TERMINATED**: ì¢…ë£Œ  

```java
Thread.State state = thread.getState();
```

---

### ğŸ” ë™ê¸°í™” (synchronized)  

- ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œëŠ” ë°ì´í„° ì¼ê´€ì„± ë³´ì¥ì„ ìœ„í•´ ë™ê¸°í™” í•„ìš”  
- í•œ ë²ˆì— í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ì ‘ê·¼ ê°€ëŠ¥  

```java
public synchronized void increment() {
    count++;
}
```

- ë˜ëŠ” ëª…ì‹œì ìœ¼ë¡œ lock ë¸”ë¡ ì§€ì •:

```java
synchronized(this) {
    count++;
}
```

---

### âš ï¸ ë°ë“œë½ (Deadlock)

- ë‘ ê°œ ì´ìƒì˜ ìŠ¤ë ˆë“œê°€ ì„œë¡œ ìì›ì„ ì ìœ í•œ ì±„ ëŒ€ê¸°í•˜ë©° êµì°© ìƒíƒœ ë°œìƒ  
- ë½ íšë“ ìˆœì„œ ê³ ì •, íƒ€ì„ì•„ì›ƒ ì„¤ì • ë“±ìœ¼ë¡œ íšŒí”¼ ê°€ëŠ¥  

---

### ğŸ’¥ ì„±ëŠ¥ ì´ìŠˆì™€ ThreadPool ì‚¬ìš©  

- ìŠ¤ë ˆë“œëŠ” ìƒì„± ë¹„ìš©ì´ í¼ â†’ ë°˜ë³µì ìœ¼ë¡œ ì‚¬ìš©í•  ê²½ìš° `ExecutorService` ì‚¬ìš©  

```java
ExecutorService executor = Executors.newFixedThreadPool(5);
executor.execute(() -> {
    System.out.println("ThreadPool ì‹¤í–‰");
});
executor.shutdown();
```

---

### ğŸ¯ ThreadLocal  

- ìŠ¤ë ˆë“œë§ˆë‹¤ ê³ ìœ í•œ ë°ì´í„° ì €ì¥ì´ í•„ìš”í•  ë•Œ ì‚¬ìš©  
- ì˜ˆ: ì‚¬ìš©ì ì¸ì¦ ì •ë³´, íŠ¸ëœì­ì…˜ ì •ë³´ ë“±  

```java
ThreadLocal<String> threadLocal = new ThreadLocal<>();
threadLocal.set("UserA");
String value = threadLocal.get(); // "UserA"
```

---

## âœ… ìš”ì•½  

- Thread vs Runnable: êµ¬í˜„ ìœ ì—°ì„± ì¸¡ë©´ì—ì„œ Runnableì´ ìœ ë¦¬  
- ë™ê¸°í™”ì™€ ìƒíƒœ ê´€ë¦¬ëŠ” í•„ìˆ˜  
- ëŒ€ê·œëª¨ ì²˜ë¦¬ì—” ThreadPoolì„ í†µí•œ ìì› ì ˆì•½  
- ë°ë“œë½ì€ ë½ íšë“ ìˆœì„œ ë° ì „ëµì„ í†µí•´ ë°©ì§€  
- ThreadLocalì€ ë…ë¦½ì ì¸ ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ì— ìœ ìš©  

## ğŸ”— ì°¸ê³   
https://new-think-think.tistory.com/26

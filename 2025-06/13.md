# Today I Learned  
2025-06-14

ğŸ“š **ê³µë¶€í•œ ë‚´ìš©**  
Spring Dependency Injection (DI), ë””ìì¸ íŒ¨í„´ (í…œí”Œë¦¿ ë©”ì„œë“œ, íŒ©í† ë¦¬ ë©”ì„œë“œ, ì „ëµ íŒ¨í„´)

ğŸ’¡ **ì£¼ìš” ê°œë…ë“¤**

## âœ… Spring DI (Dependency Injection)

- DIëŠ” ì˜ì¡´ ê°ì²´ë¥¼ ì™¸ë¶€ì—ì„œ ì£¼ì…í•˜ëŠ” ê°œë…
- ê°ì²´ëŠ” ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì—ì„œ ê´€ë¦¬ë˜ëŠ” ë¹ˆ(bean)ìœ¼ë¡œ ìƒì„±ë¨
- ê¸°ë³¸ì ìœ¼ë¡œ ì‹±ê¸€í†¤ìœ¼ë¡œ ê´€ë¦¬
- Configuration í´ë˜ìŠ¤ë¥¼ í†µí•´ ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³ ë„ ì‚¬ìš© ê°€ëŠ¥

```java
ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);
OrderService orderService = context.getBean("orderService", OrderService.class);
orderService.createOrder(...);
```

### ì˜ì¡´ì„± ì£¼ì… ìš°ì„ ìˆœìœ„
- íƒ€ì… ê¸°ë°˜ â†’ ì´ë¦„ ê¸°ë°˜
- @Autowired, @Qualifier, @Primary ë“±ì„ ì‚¬ìš©í•˜ì—¬ ìš°ì„ ìˆœìœ„ ì œì–´

```java
@Autowired
@Qualifier("jdbcRepo")
private MemberRepository memberRepository;
```

### ì´ˆê¸°í™” ë°©ì‹
- @PostConstruct â†’ ìì‹ ì˜ ì´ˆê¸°í™”ìš© ë©”ì„œë“œ
- BeanPostProcessor â†’ ì „ì²´ ë¹ˆì— ëŒ€í•´ ì´ˆê¸°í™” ì „/í›„ ì‘ì—… ê°€ëŠ¥

---

## ğŸ§  Static í•„ë“œ vs Static ë©”ì„œë“œ

```java
public class Singleton {
    private Singleton() {}

    private static class Holder {
        private static final Singleton INSTANCE = new Singleton();
    }

    public static Singleton getInstance() {
        return Holder.INSTANCE;
    }
}
```

- static blockì€ í´ë˜ìŠ¤ ë¡œë”© ì‹œ ì‹¤í–‰ë˜ì§€ë§Œ, static ë©”ì„œë“œëŠ” í˜¸ì¶œ ì „ê¹Œì§„ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
- static í•„ë“œë¥¼ ë‚´ë¶€ í´ë˜ìŠ¤ë¡œ ìˆ¨ê²¨ì„œ ì‹¤ì œ getInstanceë¥¼ í• ë•Œê¹Œì§€ ì§€ì—° ìƒì„±ëœë‹¤.

---

## ğŸ§© í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´

- ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ í…œí”Œë¦¿ì„ ì •ì˜
- í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„ì„ ì˜¤ë²„ë¼ì´ë“œ

```java
public abstract class DataProcessor {
    public final void process() {
        readData();
        processData();
        saveData();
    }

    protected void readData() { ... }
    protected abstract void processData();
    protected void saveData() { ... }
}
```

---

## ğŸ§© íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´

- ê°ì²´ ìƒì„±ì„ í•˜ìœ„ í´ë˜ìŠ¤ê°€ ë‹´ë‹¹
- ë¶€ëª¨ í´ë˜ìŠ¤ëŠ” ìƒì„± ë°©ë²•ì„ ì •ì˜í•˜ê³ , ìì‹ í´ë˜ìŠ¤ê°€ ë°˜í™˜

```java
public abstract class Animal {
    abstract AnimalToy getToy();
}

public class Dog extends Animal {
    @Override
    AnimalToy getToy() {
        return new DogToy();
    }
}
```

---

## ğŸ§© ì „ëµ íŒ¨í„´

- ì „ëµ(Strategy): ì „ëµ ì•Œê³ ë¦¬ì¦˜ì„ ê°€ì§„ í´ë˜ìŠ¤
- ì»¨í…ìŠ¤íŠ¸(Context): ì „ëµì„ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤
- í´ë¼ì´ì–¸íŠ¸(Client): ì „ëµì„ ì„ íƒí•˜ê³  ì£¼ì…

```java
public interface Strategy {
    void runStrategy();
}

public class Solider {
    void runContext(Strategy strategy) {
        strategy.runStrategy();
    }
}
```

---

## ğŸ§© í…œí”Œë¦¿ ì½œë°± íŒ¨í„´

- ì „ëµ íŒ¨í„´ì˜ ë³€í˜•
- ìµëª… í´ë˜ìŠ¤ë‚˜ ëŒë‹¤ë¡œ ì „ëµì„ ì „ë‹¬

```java
rambo.runContext(() -> System.out.println("ì¹¼ ì“°ëŠ” ë¡œì§"));
```

ğŸ”— **ì°¸ê³ **  
https://new-think-think.tistory.com/31

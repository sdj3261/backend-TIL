# Today I Learned (2025-08-07)

ì´ ì €ì¥ì†ŒëŠ” ì œê°€ ë§¤ì¼ í•™ìŠµí•œ ë‚´ìš©ì„ ê¸°ë¡í•˜ê³  ì •ë¦¬í•˜ê¸° ìœ„í•´ ë§Œë“  ê³µê°„ì…ë‹ˆë‹¤.

---

## ğŸ“š ê³µë¶€í•œ ë‚´ìš©

**[ê°œë°œ] MSA ì „í™˜ì„ ìœ„í•œ ë©€í‹°ëª¨ë“ˆ êµ¬ì¡°ì™€ Gradle ì„¤ì •**

### âœ… ì „í™˜ ë°°ê²½

- ìŠ¤í”„ë§ ê²Œì´íŠ¸ì›¨ì´ë¥¼ ë„ì…í•˜ë©° ì„œë¹„ìŠ¤ ë¶„ë¦¬ë¥¼ ì‹œì‘í•˜ê²Œ ë˜ì—ˆê³ , **ë©€í‹°ëª¨ë“ˆ êµ¬ì¡°**ê°€ í•„ìš”í•˜ë‹¤ê³  íŒë‹¨.
- ì¸ì¦, ì¸ê°€, ë¡œê¹… ë“± **íš¡ë‹¨ ê´€ì‹¬ì‚¬**ëŠ” ê²Œì´íŠ¸ì›¨ì´ë¡œ ì˜®ê¸°ê³ , ê° ì„œë¹„ìŠ¤ëŠ” ì‹¬í”Œí•˜ê²Œ ìœ ì§€.
- ì‹¤ë¬´ì—ì„œëŠ” íŒ€ ë‹¨ìœ„ ë„ë©”ì¸ ìš´ì˜ì´ í•„ìš”í•  ë•Œ ë©€í‹°ëª¨ë“ˆë¡œ ì „í™˜í•˜ëŠ” ì‹œì ì„ ê³ ë¯¼.

### ğŸ§  ë©€í‹°ëª¨ë“ˆ ë„ì… ì´ìœ 

- í•˜ë‚˜ì˜ ë©”ì¸ í”„ë¡œì íŠ¸ ì•„ë˜ ì—¬ëŸ¬ í•˜ìœ„ ëª¨ë“ˆ(submodules)ë¡œ êµ¬ì„±í•´ ê¸°ëŠ¥ë³„ ì½”ë“œ ë¶„ë¦¬.
- `application.yml`, DB ì„¤ì • ë“±ë„ ê° ëª¨ë“ˆë§ˆë‹¤ ë¶„ë¦¬ ê°€ëŠ¥.
- MSAì˜ ëª¨ë“ˆì„±ê³¼ API ê²½ê³„ë¥¼ Gradle ìˆ˜ì¤€ì—ì„œ í‘œí˜„ ê°€ëŠ¥.

### ğŸ“¦ Gradle ì„¤ì • ì˜ˆì‹œ

**settings.gradle.kts**

```kotlin
rootProject.name = "my-msa-project"

include("common")
include("user-service")
include("order-service")
include("product-service")
```

**build.gradle.kts (root)**

```kotlin
plugins {
    java
    id("org.springframework.boot") version "3.2.0" apply false
    id("io.spring.dependency-management") version "1.1.4" apply false
    kotlin("jvm") version "1.9.10" apply false
    kotlin("plugin.spring") version "1.9.10" apply false
}

allprojects {
    group = "com.example"
    version = "0.0.1-SNAPSHOT"

    repositories {
        mavenCentral()
    }
}

subprojects {
    apply(plugin = "java")

    dependencies {
        // ê³µí†µ ì˜ì¡´ì„± ì˜ˆì‹œ
        testImplementation("org.junit.jupiter:junit-jupiter")
    }

    tasks.test {
        useJUnitPlatform()
    }
}
```

- **settings.gradle**: í•˜ìœ„ ëª¨ë“ˆ í¬í•¨ ì„ ì–¸ (`common`, `user-service`, `order-service`, `product-service`)
- **apply false**: ë£¨íŠ¸ì—ì„œëŠ” í”ŒëŸ¬ê·¸ì¸ë§Œ ì„ ì–¸í•˜ê³ , ê° ëª¨ë“ˆì—ì„œ ê°œë³„ ì ìš©.
- **subprojects**: ê³µí†µ ì˜ì¡´ì„±, ê³µí†µ í…ŒìŠ¤íŠ¸ í”Œë«í¼ ì§€ì •.

### ğŸ—ï¸ êµ¬ì¡°ì  ì´ì 

- REST/Feign/MQ í†µì‹ ìœ¼ë¡œ **ë„ë©”ì¸ ê°„ ê°•ê²°í•© ìµœì†Œí™”**.
- **ë…ë¦½ ë°°í¬ ë° í™•ì¥ ê°€ëŠ¥**: íŠ¹ì • ë„ë©”ì¸ë§Œ ìŠ¤ì¼€ì¼ ì•„ì›ƒ.
- ì¥ì•  ê²©ë¦¬ ê°€ëŠ¥ (ì„œí‚· ë¸Œë ˆì´ì»¤ ë“±).
- **ê¸°ìˆ  ìŠ¤íƒ ë‹¤ì–‘ì„±** í—ˆìš©, **íŒ€ ë‹¨ìœ„ ê°œë°œ/í…ŒìŠ¤íŠ¸** ìš©ì´.

### ğŸ§© MSA ì² í•™ ìš”ì•½

- **ëŠìŠ¨í•œ ê²°í•©**ì„ í†µí•´ ìœ ì—°í•œ ë³€ê²½/ë°°í¬/ì¥ì•  ëŒ€ì‘.
- **ì¤‘ë³µ ì½”ë“œ/íš¡ë‹¨ ê´€ì‹¬ì‚¬**ëŠ” Gatewayì—ì„œ í†µí•© ì²˜ë¦¬.
- ê° ëª¨ë“ˆì´ ì™„ì „íˆ **ë…ë¦½ì ìœ¼ë¡œ ë°°í¬** ê°€ëŠ¥í•´ì•¼ ì§„ì •í•œ MSA.

### ğŸ› ï¸ ëª…ë ¹ì–´ ì˜ˆì‹œ

```bash
# ì „ì²´ ë¹Œë“œ
./gradlew build

# íŠ¹ì • ëª¨ë“ˆë§Œ ì‹¤í–‰
./gradlew :user-service:bootRun
```

---

## ğŸ”— ì°¸ê³ 

- [Spring Cloud Gateway](https://spring.io/projects/spring-cloud-gateway)
